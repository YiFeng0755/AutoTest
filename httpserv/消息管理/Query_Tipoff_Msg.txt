*** Settings ***
Documentation     body为json格式，各个字段解释如下：
...
...               "Limit" \ \ \ \ \ 可选字段，本次查询的消息条数上限(最多100条)，小于等于0或者大于100会提示参数错误，整型
...
...               "ShowTotal" \ \ \ 可选字段，1显示所有，0仅显示未处理消息，默认0。整型
...
...               "UserID" \ \ \ \ \ \ \ 可选字段，查询用户ID
...
...               "BeginTime" \ \ \ 可选字段，开始时间，时间戳秒数，整型，默认值为当前时间前604800秒数
...
...               "EndTime" \ \ \ \ \ 可选字段，结束时间，时间戳秒数，整型，默认值为当前时间戳
...
...               "Reverse" \ \ \ \ \ \ \ 可选字段，整型，1按时间降序排列，0按时间正序排列，默认按降序排列。
...
...               body实例
...               {
...               "Limit": 10,
...               "BeginTime": 1494545710,
...               "EndTime": 1494555710,
...               "ShowTotal" : 1,
...               "UserID": "10011",
...               "Reverse": 1
...               }
Force Tags        Query_Tipoff_Msg
Default Tags      Tipoff
Library           RequestsLibrary
Library           Collections
Library           ../lib/YouMeAnchorRankLib.py
Library           ../lib/YouMeRequestLib.py

*** Variables ***
${SECRET}         uQAuo9xbYOevRl7oyTm0kR60WMoLDmIzgucehu8lkV0Y2ZKOEP84Y5cWyliGlns0nJK2kgDDGEsCsi/SUWnn0jKQ0REteItDMn/5rihp+Dd8I0V1FMcMeXTSPWDcV+lTiF9so2bpIpLsMlUdHGUVkUMIdUv6vgmtZflkfALM6AMBAAE=    # 用于sha1加密的 秘钥
${APPKEY}         YOUME3C8DDD417211056AAEC1A518FBA43F34577EC958    # 应用标识
${URL}            http://106.75.14.78:18080/

*** Test Cases ***
查询举报信息
    [Tags]    smoke
    log    Query_Tipoff_Msg
    ${Limit}    Convert To Integer    10
    ${BeginTime}    Convert To Integer    1528938000
    ${EndTime}    Convert To Integer    1528988400
    ${ShowTotal}    Convert To Integer    1
    ${Reverse}    Convert To Integer    1
    ${data}    Create Dictionary    Limit=${Limit}    BeginTime=${BeginTime}    EndTime={EndTime}    ShowTotal=${ShowTotal}    UserID=user44
    ...    Reverse=${Reverse}
    ${res1}    Post Data    ${URL}    v1/im/query_tipoff_msg    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    FAIL
    Dictionary should contain Item    ${res1}    ErrorCode    70001

BeginTime为空
    log    Query_Tipoff_Msg
    ${Limit}    Convert To Integer    10
    ${BeginTime}    Convert To Integer    1528938000
    ${EndTime}    Convert To Integer    1528988400
    ${ShowTotal}    Convert To Integer    1
    ${Reverse}    Convert To Integer    1
    ${data}    Create Dictionary    Limit=${Limit}    BeginTime=    EndTime={EndTime}    ShowTotal=${ShowTotal}    UserID=user44
    ...    Reverse=${Reverse}
    ${res1}    Post Data    ${URL}    v1/im/query_tipoff_msg    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    FAIL
    Dictionary should contain Item    ${res1}    ErrorCode    70001

EndTime为空
    log    Query_Tipoff_Msg
    ${Limit}    Convert To Integer    10
    ${BeginTime}    Convert To Integer    1528938000
    ${EndTime}    Convert To Integer    1528988400
    ${ShowTotal}    Convert To Integer    1
    ${Reverse}    Convert To Integer    1
    ${data}    Create Dictionary    Limit=${Limit}    BeginTime=${BeginTime}    EndTime=    ShowTotal=${ShowTotal}    UserID=user44
    ...    Reverse=${Reverse}
    ${res1}    Post Data    ${URL}    v1/im/query_tipoff_msg    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    FAIL
    Dictionary should contain Item    ${res1}    ErrorCode    70001

ShowTotal为空
    log    Query_Tipoff_Msg
    ${Limit}    Convert To Integer    10
    ${BeginTime}    Convert To Integer    1528938000
    ${EndTime}    Convert To Integer    1528988400
    ${ShowTotal}    Convert To Integer    1
    ${Reverse}    Convert To Integer    1
    ${data}    Create Dictionary    Limit=${Limit}    BeginTime=${BeginTime}    EndTime={EndTime}    ShowTotal=    UserID=user44
    ...    Reverse=${Reverse}
    ${res1}    Post Data    ${URL}    v1/im/query_tipoff_msg    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    FAIL
    Dictionary should contain Item    ${res1}    ErrorCode    70001

UserID为空
    log    Query_Tipoff_Msg
    ${Limit}    Convert To Integer    10
    ${BeginTime}    Convert To Integer    1528938000
    ${EndTime}    Convert To Integer    1528988400
    ${ShowTotal}    Convert To Integer    1
    ${Reverse}    Convert To Integer    1
    ${data}    Create Dictionary    Limit=${Limit}    BeginTime=${BeginTime}    EndTime={EndTime}    ShowTotal=${ShowTotal}    UserID=
    ...    Reverse=${Reverse}
    ${res1}    Post Data    ${URL}    v1/im/query_tipoff_msg    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    FAIL
    Dictionary should contain Item    ${res1}    ErrorCode    70001

Reverse为空
    log    Query_Tipoff_Msg
    ${Limit}    Convert To Integer    10
    ${BeginTime}    Convert To Integer    1528938000
    ${EndTime}    Convert To Integer    1528988400
    ${ShowTotal}    Convert To Integer    1
    ${Reverse}    Convert To Integer    1
    ${data}    Create Dictionary    Limit=${Limit}    BeginTime=${BeginTime}    EndTime={EndTime}    ShowTotal=${ShowTotal}    UserID=user44
    ...    Reverse=
    ${res1}    Post Data    ${URL}    v1/im/query_tipoff_msg    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    FAIL
    Dictionary should contain Item    ${res1}    ErrorCode    70001
