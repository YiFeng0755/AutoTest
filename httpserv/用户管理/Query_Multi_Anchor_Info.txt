*** Settings ***
Documentation     查询多个主播的信息
...
...               body为json格式，各个字段解释如下：
...               "UserList" ：可选字段，主播用户列表，为空数组时返回所有主播用户列表，数组
...
...               "UserID"：主播用户游戏ID，app内唯一，字符串
...
...               "UserSeq" ：可选字段，"UserList"为空时有效，主播用户序列号，首次获取时置0
...
...               "Limit"：可选字段，"UserList"为空时有效，拉取主播用户个数限制
Force Tags        query_multi_anchor_info
Default Tags      multi info
Library           RequestsLibrary
Library           Collections
Library           ../lib/YouMeRequestLib.py
Library           ../lib/YouMeAnchorRankLib.py

*** Variables ***
${SECRET}         uQAuo9xbYOevRl7oyTm0kR60WMoLDmIzgucehu8lkV0Y2ZKOEP84Y5cWyliGlns0nJK2kgDDGEsCsi/SUWnn0jKQ0REteItDMn/5rihp+Dd8I0V1FMcMeXTSPWDcV+lTiF9so2bpIpLsMlUdHGUVkUMIdUv6vgmtZflkfALM6AMBAAE=    # 用于sha1加密的 秘钥
${APPKEY}         YOUME3C8DDD417211056AAEC1A518FBA43F34577EC958    # 应用标识
${URL}            http://106.75.14.78:18080/

*** Test Cases ***
查询多个主播的基本信息
    [Tags]    Anchor    User    smoke
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserList列表为空
    Log    "query_multi_anchor_info"
    #${value}    Create Dictionary    UserID=1133    UserSeq=    Limit=
    ${userlist}    Create List
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserID值为空
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=    UserSeq=    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserID长度超过300
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    UserSeq=    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserID为负数
    Log    "query_multi_anchor_info"
    ${UserID}    Convert To Integer    -100
    ${value}    Create Dictionary    UserID=${UserID}    UserSeq=    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserSeq值为空
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserSeq值中间有空格
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=10 20 30    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

UserSeq值长度超过300字符
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

Limit值为空
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=    Limit=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

Limit不存在
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

Limit值长度超过300字符
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary    UserID=1133    UserSeq=    Limit=123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

body为空
    Log    "query_multi_anchor_info"
    ${value}    Create Dictionary
    ${userlist}    Create List    ${value}
    ${data}    Create Dictionary    UserList=${userlist}
    ${res1}    Post Data    ${URL}    v1/im/query_multi_anchor_info    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0
