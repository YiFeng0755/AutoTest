*** Settings ***
Documentation     body为json格式，各个字段解释如下：
...
...               "CategoryList" 词库分类列表，包括以下属性：
...
...               "Name" \ \ \ \ \ \ \ \ \ \ \ \ 词库分类名，字符串
...
...               "Strategy" \ \ \ \ \ \ \ \ \ \ \ \ 词库分类处理策略，无符号整型，0字符屏蔽，1消息整条过滤
...
...
...               body实例
...
...               {
...               "CategoryList ": [ {
...               "Name" : "骂人",
...               " Strategy" : 1
...               }
...               ]
...               }
Force Tags        Add Words Category
Default Tags      category
Library           RequestsLibrary
Library           Collections
Library           ../lib/YouMeAnchorRankLib.py
Library           ../lib/YouMeRequestLib.py

*** Variables ***
${SECRET}         uQAuo9xbYOevRl7oyTm0kR60WMoLDmIzgucehu8lkV0Y2ZKOEP84Y5cWyliGlns0nJK2kgDDGEsCsi/SUWnn0jKQ0REteItDMn/5rihp+Dd8I0V1FMcMeXTSPWDcV+lTiF9so2bpIpLsMlUdHGUVkUMIdUv6vgmtZflkfALM6AMBAAE=    # 用于sha1加密的 秘钥
${APPKEY}         YOUME3C8DDD417211056AAEC1A518FBA43F34577EC958    # 应用标识
${URL}            http://106.75.14.78:18080/

*** Test Cases ***
添加自定义敏感词库分类
    [Documentation]    body实例
    ...
    ...    {
    ...     "CategoryList ": [ {
    ...    	\	"Name" : "骂人",
    ...    	\	" Strategy" : 1
    ...    	\	}
    ...    ]
    ...    }
    log    Add Words Category
    ${Strategy}    Convert To Integer    1
    ${Name}    Create Dictionary    Name=sfse    Strategy=${Strategy}
    ${CategoryList}    Create List    ${Name}
    ${data}    Create Dictionary    CategoryList =${CategoryList}
    ${res1}    Post Data    ${URL}    v1/im/add_words_category    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

name为空
    log    Add Words Category
    ${Strategy}    Convert To Integer    1
    ${Name}    Create Dictionary    Name=    Strategy=${Strategy}
    ${CategoryList}    Create List    ${Name}
    ${data}    Create Dictionary    CategoryList =${CategoryList}
    ${res1}    Post Data    ${URL}    v1/im/add_words_category    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

屏蔽词库分类
    log    Add Words Category
    ${Strategy}    Convert To Integer    0
    ${Name}    Create Dictionary    Name=sfse    Strategy=${Strategy}
    ${CategoryList}    Create List    ${Name}
    ${data}    Create Dictionary    CategoryList =${CategoryList}
    ${res1}    Post Data    ${URL}    v1/im/add_words_category    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0

词库分类策略为消息整条过滤
    log    Add Words Category
    ${Strategy}    Convert To Integer    1
    ${Name}    Create Dictionary    Name=sfse    Strategy=${Strategy}
    ${CategoryList}    Create List    ${Name}
    ${data}    Create Dictionary    CategoryList =${CategoryList}
    ${res1}    Post Data    ${URL}    v1/im/add_words_category    ${data}
    Dictionary should contain Item    ${res1}    ActionStatus    OK
    Dictionary should contain Item    ${res1}    ErrorCode    0
